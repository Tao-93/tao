(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{231:function(e,n,t){e.exports=t.p+"assets/img/vue_01.6f2c97f0.png"},288:function(e,n,t){"use strict";t.r(n);var o=[function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticClass:"content"},[o("h1",{attrs:{id:"ç”Ÿå‘½å‘¨æœŸ"}},[e._v("ç”Ÿå‘½å‘¨æœŸ")]),o("p",[o("img",{attrs:{src:t(231),alt:""}})]),o("p",[e._v("åœ¨åˆå§‹åŒ–æ—¶ï¼Œä¼šè°ƒç”¨ä»¥ä¸‹ä»£ç ï¼Œç”Ÿå‘½å‘¨æœŸå°±æ˜¯é€šè¿‡ "),o("code",[e._v("callHook")]),e._v(" è°ƒç”¨çš„")]),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("Vue.prototype._init = function(options) {\n    initLifecycle(vm)\n    initEvents(vm)\n    initRender(vm)\n    callHook(vm, 'beforeCreate') // æ‹¿ä¸åˆ° props data\n    initInjections(vm) \n    initState(vm)\n    initProvide(vm)\n    callHook(vm, 'created')\n}\n")])])]),o("p",[e._v("å¯ä»¥å‘ç°åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œ"),o("strong",[o("code",[e._v("beforeCreate")]),e._v(" è°ƒç”¨çš„æ—¶å€™ï¼Œæ˜¯è·å–ä¸åˆ° props æˆ–è€… data ä¸­çš„æ•°æ®")]),e._v("çš„ï¼Œå› ä¸ºè¿™äº›æ•°æ®çš„åˆå§‹åŒ–éƒ½åœ¨ "),o("code",[e._v("initState")]),e._v(" ä¸­ã€‚")]),o("p",[o("strong",[e._v("æ­¤æ—¶è¿˜æ˜¯æ²¡æœ‰el")]),e._v("é€‰é¡¹")]),o("p",[e._v("æ¥ä¸‹æ¥ä¼šæ‰§è¡ŒæŒ‚è½½å‡½æ•°")]),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("export function mountComponent {\n    callHook(vm, 'beforeMount')\n    // ...\n    if (vm.$vnode == null) {\n        vm._isMounted = true\n        callHook(vm, 'mounted')\n    }\n}\n")])])]),o("p",[o("strong",[o("code",[e._v("beforeMount")]),e._v(" å°±æ˜¯åœ¨æŒ‚è½½å‰æ‰§è¡Œçš„ï¼Œç„¶åå¼€å§‹åˆ›å»º VDOM å¹¶æ›¿æ¢æˆçœŸå® DOM")]),e._v("ï¼Œæœ€åæ‰§è¡Œ "),o("code",[e._v("mounted")]),e._v(" é’©å­ã€‚è¿™é‡Œä¼šæœ‰ä¸ªåˆ¤æ–­é€»è¾‘ï¼Œå¦‚æœæ˜¯å¤–éƒ¨ "),o("code",[e._v("new Vue({})")]),e._v(" çš„è¯ï¼Œä¸ä¼šå­˜åœ¨ "),o("code",[e._v("$vnode")]),e._v(" ï¼Œæ‰€ä»¥ç›´æ¥æ‰§è¡Œ "),o("code",[e._v("mounted")]),e._v(" é’©å­äº†ã€‚å¦‚æœæœ‰å­ç»„ä»¶çš„è¯ï¼Œä¼šé€’å½’æŒ‚è½½å­ç»„ä»¶ï¼Œåªæœ‰å½“æ‰€æœ‰å­ç»„ä»¶å…¨éƒ¨æŒ‚è½½å®Œæ¯•ï¼Œæ‰ä¼šæ‰§è¡Œæ ¹ç»„ä»¶çš„æŒ‚è½½é’©å­ã€‚")]),o("p",[e._v("æ¥ä¸‹æ¥æ˜¯æ•°æ®æ›´æ–°æ—¶ä¼šè°ƒç”¨çš„é’©å­å‡½æ•°")]),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("function flushSchedulerQueue() {\n  // ...\n  for (index = 0; index < queue.length; index++) {\n    watcher = queue[index]\n    if (watcher.before) {\n      watcher.before() // è°ƒç”¨ beforeUpdate\n    }\n    id = watcher.id\n    has[id] = null\n    watcher.run()\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1\n      if (circular[id] > MAX_UPDATE_COUNT) {\n        warn(\n          'You may have an infinite update loop ' +\n            (watcher.user\n              ? `in watcher with expression \"${watcher.expression}\"`\n              : `in a component render function.`),\n          watcher.vm\n        )\n        break\n      }\n    }\n  }\n  callUpdatedHooks(updatedQueue)\n}\n\nfunction callUpdatedHooks(queue) {\n  let i = queue.length\n  while (i--) {\n    const watcher = queue[i]\n    const vm = watcher.vm\n    if (vm._watcher === watcher && vm._isMounted) {\n      callHook(vm, 'updated')\n    }\n  }\n}\n")])])]),o("p",[e._v("ä¸Šå›¾è¿˜æœ‰ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸæ²¡æœ‰è¯´ï¼Œåˆ†åˆ«ä¸º "),o("code",[e._v("activated")]),e._v(" å’Œ "),o("code",[e._v("deactivated")]),e._v(" ï¼Œè¿™ä¸¤ä¸ªé’©å­å‡½æ•°æ˜¯ "),o("code",[e._v("keep-alive")]),e._v(" ç»„ä»¶ç‹¬æœ‰çš„ã€‚ç”¨ "),o("code",[e._v("keep-alive")]),e._v(" åŒ…è£¹çš„ç»„ä»¶åœ¨åˆ‡æ¢æ—¶ä¸ä¼šè¿›è¡Œé”€æ¯ï¼Œè€Œæ˜¯ç¼“å­˜åˆ°å†…å­˜ä¸­å¹¶æ‰§è¡Œ "),o("code",[e._v("deactivated")]),e._v(" é’©å­å‡½æ•°ï¼Œå‘½ä¸­ç¼“å­˜æ¸²æŸ“åä¼šæ‰§è¡Œ "),o("code",[e._v("actived")]),e._v(" é’©å­å‡½æ•°ã€‚")]),o("p",[e._v("æœ€åå°±æ˜¯é”€æ¯ç»„ä»¶çš„é’©å­å‡½æ•°äº†")]),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("Vue.prototype.$destroy = function() {\n  // ...\n  callHook(vm, 'beforeDestroy')\n  vm._isBeingDestroyed = true\n  // remove self from parent\n  const parent = vm.$parent\n  if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n    remove(parent.$children, vm)\n  }\n  // teardown watchers\n  if (vm._watcher) {\n    vm._watcher.teardown()\n  }\n  let i = vm._watchers.length\n  while (i--) {\n    vm._watchers[i].teardown()\n  }\n  // remove reference from data ob\n  // frozen object may not have observer.\n  if (vm._data.__ob__) {\n    vm._data.__ob__.vmCount--\n  }\n  // call the last hook...\n  vm._isDestroyed = true\n  // invoke destroy hooks on current rendered tree\n  vm.__patch__(vm._vnode, null)\n  // fire destroyed hook\n  callHook(vm, 'destroyed')\n  // turn off all instance listeners.\n  vm.$off()\n  // remove __vue__ reference\n  if (vm.$el) {\n    vm.$el.__vue__ = null\n  }\n  // release circular reference (##6759)\n  if (vm.$vnode) {\n    vm.$vnode.parent = null\n  }\n}\n")])])]),o("p",[e._v("åœ¨æ‰§è¡Œé”€æ¯æ“ä½œå‰ä¼šè°ƒç”¨ "),o("strong",[o("code",[e._v("beforeDestroy")]),e._v(" é’©å­å‡½æ•°ï¼Œåœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨")]),e._v("ã€‚  ç„¶åè¿›è¡Œä¸€ç³»åˆ—çš„é”€æ¯æ“ä½œï¼Œå¦‚æœæœ‰å­ç»„ä»¶çš„è¯ï¼Œä¹Ÿä¼šé€’å½’é”€æ¯å­ç»„ä»¶ï¼Œæ‰€æœ‰å­ç»„ä»¶éƒ½é”€æ¯å®Œæ¯•åæ‰ä¼šæ‰§è¡Œæ ¹ç»„ä»¶çš„ "),o("code",[e._v("destroyed")]),e._v(" é’©å­å‡½æ•°ã€‚")]),o("p",[o("strong",[e._v("beforeCreateï¼š")]),e._v(" loadingäº‹ä»¶ï¼Œ"),o("br"),o("strong",[e._v("createdï¼š")]),e._v("  å¯ä»¥è¿›è¡ŒAjaxè¯·æ±‚å–å›æ•°æ® ï¼Œè·å–åˆ°data"),o("br"),o("strong",[e._v("beforeMountï¼š")]),e._v(" å§‹åˆ›å»º VDOM"),o("br"),o("strong",[e._v("mountedï¼š")]),e._v(" æŒ‚è½½å…ƒç´ ï¼Œè·å–domèŠ‚ç‚¹"),o("br"),o("strong",[e._v("beforeUpdateï¼š")]),o("br"),o("strong",[e._v("updatedï¼š")]),e._v(" å¦‚æœå¯¹æ•°æ®ç»Ÿä¸€å¤„ç†ï¼Œåœ¨è¿™é‡Œå†™ä¸Šç›¸åº”å‡½æ•°"),o("br"),o("strong",[e._v("beforeDestoryï¼š")]),e._v(" å¯ä»¥åšä¸€ä¸ªç¡®è®¤åœæ­¢äº‹ä»¶çš„ç¡®è®¤æ¡†"),o("br"),o("strong",[e._v("destoryedï¼š")]),e._v(" é”€æ¯")]),o("p",[e._v("Now, let's try it ğŸ‘‰")])])}],r=t(0),a=Object(r.a)({},(function(){var e=this.$createElement;this._self._c;return this._m(0)}),o,!1,null,null,null);n.default=a.exports}}]);