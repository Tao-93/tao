(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{304:function(n,t,e){"use strict";e.r(t);var a=e(0),s=Object(a.a)({},(function(){var n=this.$createElement;this._self._c;return this._m(0)}),[function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"this"}},[n._v("this")]),e("h2",{attrs:{id:"js-é‡Œçš„-this"}},[n._v("JS é‡Œçš„ this")]),e("ul",[e("li",[n._v("åœ¨ function å†…éƒ¨è¢«åˆ›å»º")]),e("li",[n._v("æŒ‡å‘è°ƒç”¨æ—¶æ‰€åœ¨å‡½æ•°æ‰€ç»‘å®šçš„å¯¹è±¡")]),e("li",[n._v("this ä¸èƒ½è¢«èµ‹å€¼ï¼Œä½†å¯ä»¥è¢« call/apply  æ”¹å˜")])]),e("ol",[e("li",[n._v("å…¨å±€ä½œç”¨åŸŸæˆ–è€…æ™®é€šå‡½æ•°ä¸­thisæŒ‡å‘å…¨å±€å¯¹è±¡windowã€‚")]),e("li",[n._v("æ–¹æ³•è°ƒç”¨ä¸­è°è°ƒç”¨thisæŒ‡å‘è°")]),e("li",[n._v("åœ¨æ„é€ å‡½æ•°æˆ–è€…æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ä¸­thisæŒ‡å‘æ„é€ å‡½æ•°çš„å®ä¾‹")])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("function foo() {\n\tconsole.log(this.a)\n}\nvar a = 2\nfoo()\n\nvar obj = {\n\ta: 2,\n\tfoo: foo\n}\nobj.foo()\n\n// ä»¥ä¸Šä¸¤è€…æƒ…å†µ `this` åªä¾èµ–äºè°ƒç”¨å‡½æ•°å‰çš„å¯¹è±¡ï¼Œä¼˜å…ˆçº§æ˜¯ç¬¬äºŒä¸ªæƒ…å†µå¤§äºç¬¬ä¸€ä¸ªæƒ…å†µ\n\n// ä»¥ä¸‹æƒ…å†µæ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„ï¼Œ`this` åªä¼šç»‘å®šåœ¨ `c` ä¸Šï¼Œä¸ä¼šè¢«ä»»ä½•æ–¹å¼ä¿®æ”¹ `this` æŒ‡å‘\nvar c = new foo()\nc.a = 3\nconsole.log(c.a)\n\n// è¿˜æœ‰ç§å°±æ˜¯åˆ©ç”¨ callï¼Œapplyï¼Œbind æ”¹å˜ thisï¼Œè¿™ä¸ªä¼˜å…ˆçº§ä»…æ¬¡äº new\n")])])]),e("p",[e("strong",[n._v("ç®­å¤´å‡½æ•°ä¸­çš„Â "),e("code",[n._v("this")])])]),e("p",[n._v("ç®­å¤´å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘çš„å›ºå®šåŒ–ï¼Œå¹¶ä¸æ˜¯å› ä¸ºç®­å¤´å‡½æ•°å†…éƒ¨æœ‰ç»‘å®šthisçš„æœºåˆ¶ï¼Œå®é™…åŸå› æ˜¯ç®­å¤´å‡½æ•°æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„thisï¼Œå¯¼è‡´å†…éƒ¨çš„thiså°±æ˜¯å¤–å±‚ä»£ç å—çš„thisã€‚æ­£æ˜¯å› ä¸ºå®ƒæ²¡æœ‰thisï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚")]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("function test() {\n    this.a = 22;\n    let b = function() {\n        console.log(this, this.a);   \n    };\n    b();\n}\ntest();  // window  , 22\nvar x = new test();  // window  , 11\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("var a = 11;\nfunction test() {\n    this.a = 22;\n    let b = () => { console.log(this, this.a) }\n    b();\n};\ntest(); //window  , 22\nvar x = new test(); // test  , 22\n")])])]),e("p",[e("strong",[n._v("ES6ä¸­å®šä¹‰çš„æ—¶å€™ç»‘å®šthisçš„å…·ä½“å«ä¹‰ï¼Œåº”è¯¥ç»§æ‰¿çš„æ˜¯çˆ¶æ‰§è¡Œä¸Šä¸‹æ–‡é‡Œé¢çš„thisï¼Œåˆ‡å¿Œæ˜¯çˆ¶æ‰§è¡Œä¸Šä¸‹æ–‡ï¼")])]),e("p",[e("strong",[n._v("æ³¨æ„ï¼šç®€å•å¯¹è±¡ï¼ˆéå‡½æ•°ï¼‰æ˜¯æ²¡æœ‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„ï¼")])]),e("h2",{attrs:{id:"call-apply-bind"}},[n._v("call,apply,bind")]),e("p",[e("code",[n._v("call")]),n._v("Â å’ŒÂ "),e("code",[n._v("apply")]),n._v("Â éƒ½æ˜¯ä¸ºäº†è§£å†³æ”¹å˜Â "),e("code",[n._v("this")]),n._v("Â çš„æŒ‡å‘ã€‚")]),e("p",[n._v("ä½œç”¨éƒ½æ˜¯ç›¸åŒçš„ï¼Œåªæ˜¯ä¼ å‚çš„æ–¹å¼ä¸åŒã€‚é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°å¤–ï¼Œ"),e("code",[n._v("call")]),n._v(" å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œ"),e("code",[n._v("apply")]),n._v(" åªæ¥å—ä¸€ä¸ªå‚æ•°æ•°ç»„ã€‚")]),e("p",[e("code",[n._v("bind")]),n._v("æ˜¯æ–°åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç„¶åæŠŠå®ƒçš„ä¸Šä¸‹æ–‡ç»‘å®šåˆ°bind()æ‹¬å·ä¸­çš„å‚æ•°ä¸Šï¼Œç„¶åå°†å®ƒè¿”å›ã€‚")]),e("p",[n._v("æ‰€ä»¥ï¼Œbindåå‡½æ•°ä¸ä¼šæ‰§è¡Œï¼Œè€Œåªæ˜¯è¿”å›ä¸€ä¸ªæ”¹å˜äº†ä¸Šä¸‹æ–‡çš„å‡½æ•°å‰¯æœ¬ï¼Œè€Œcallå’Œapplyæ˜¯ç›´æ¥æ‰§è¡Œå‡½æ•°ã€‚")]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("let a = {\n    value: 1\n}\nfunction getValue(name, age) {\n    console.log(name)\n    console.log(age)\n    console.log(this.value)\n}\ngetValue.call(a, 'yck', '24')\ngetValue.apply(a, ['yck', '24'])\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("var obj = {\n    name: 'Dot'\n}\nfunction printName() {\n    console.log(this.name)\n}\nvar dot = printName.bind(obj)\nconsole.log(dot) // function () { â€¦ }\ndot()  // Dot\n")])])]),e("h3",{attrs:{id:"æ¨¡æ‹Ÿå®ç°callå’Œbind"}},[n._v("æ¨¡æ‹Ÿå®ç°callå’Œbind")]),e("p",[n._v("å¯ä»¥ä»ä»¥ä¸‹å‡ ç‚¹æ¥è€ƒè™‘å¦‚ä½•å®ç°")]),e("ul",[e("li",[n._v("ä¸ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆé»˜è®¤ä¸º "),e("code",[n._v("window")])]),e("li",[n._v("æ”¹å˜äº† this æŒ‡å‘ï¼Œè®©æ–°çš„å¯¹è±¡å¯ä»¥æ‰§è¡Œè¯¥å‡½æ•°ã€‚é‚£ä¹ˆæ€è·¯æ˜¯å¦å¯ä»¥å˜æˆç»™æ–°çš„å¯¹è±¡æ·»åŠ ä¸€ä¸ªå‡½æ•°ï¼Œç„¶ååœ¨æ‰§è¡Œå®Œä»¥ååˆ é™¤ï¼Ÿ")])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("Function.prototype.myCall = function (context) {\n  var context = context || window\n  // ç»™ context æ·»åŠ ä¸€ä¸ªå±æ€§\n  // getValue.call(a, 'yck', '24') => a.fn = getValue\n  context.fn = this\n  // å°† context åé¢çš„å‚æ•°å–å‡ºæ¥\n  var args = [...arguments].slice(1)\n  // getValue.call(a, 'yck', '24') => a.fn('yck', '24')\n  var result = context.fn(...args)\n  // åˆ é™¤ fn\n  delete context.fn\n  return result\n}\n")])])]),e("p",[n._v("ä»¥ä¸Šå°±æ˜¯ "),e("code",[n._v("call")]),n._v(" çš„æ€è·¯ï¼Œ"),e("code",[n._v("apply")]),n._v(" çš„å®ç°ä¹Ÿç±»ä¼¼")]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("Function.prototype.myApply = function (context) {\n  var context = context || window\n  context.fn = this\n\n  var result\n  // éœ€è¦åˆ¤æ–­æ˜¯å¦å­˜å‚¨ç¬¬äºŒä¸ªå‚æ•°\n  // å¦‚æœå­˜åœ¨ï¼Œå°±å°†ç¬¬äºŒä¸ªå‚æ•°å±•å¼€\n  if (arguments[1]) {\n    result = context.fn(...arguments[1])\n  } else {\n    result = context.fn()\n  }\n\n  delete context.fn\n  return result\n}\n")])])]),e("p",[e("code",[n._v("bind")]),n._v(" å’Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•ä½œç”¨ä¹Ÿæ˜¯ä¸€è‡´çš„ï¼Œåªæ˜¯è¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ã€‚å¹¶ä¸”æˆ‘ä»¬å¯ä»¥é€šè¿‡ "),e("code",[n._v("bind")]),n._v(" å®ç°æŸ¯é‡ŒåŒ–ã€‚")]),e("p",[n._v("åŒæ ·çš„ï¼Œä¹Ÿæ¥æ¨¡æ‹Ÿå®ç°ä¸‹ "),e("code",[n._v("bind")])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("Function.prototype.myBind = function (context) {\n  if (typeof this !== 'function') {\n    throw new TypeError('Error')\n  }\n  var _this = this\n  var args = [...arguments].slice(1)\n  // è¿”å›ä¸€ä¸ªå‡½æ•°\n  return function F() {\n    // å› ä¸ºè¿”å›äº†ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ new F()ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­\n    if (this instanceof F) {\n      return new _this(...args, ...arguments)\n    }\n    return _this.apply(context, args.concat(...arguments))\n  }\n}\n")])])]),e("p",[n._v("Now, let's try it ğŸ‘‰")])])}],!1,null,null,null);t.default=s.exports}}]);